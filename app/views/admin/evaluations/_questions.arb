# frozen_string_literal: true

div class: 'row questions' do
  restitution.questions_et_reponses.each do |question_et_reponse|
    reponse = question_et_reponse[:reponse]
    question = question_et_reponse[:question]

    div class: 'col-4 px-5 mb-4' do
      div strong question.libelle
      if question.is_a?(QuestionQcm)
        div class: 'btn-group my-2' do
          ::Choix.type_choix.each do |nom, _valeur|
            active = nom == reponse.type_choix ? 'active' : ''
            button class: "btn #{active}" do
              t(".#{nom}")
            end
          end
        end
      else
        div simple_format(reponse), class: 'my-2'
      end
    end
  end
end
